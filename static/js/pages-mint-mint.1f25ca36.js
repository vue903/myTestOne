(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mint-mint"],{"0357":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("back",{ref:"child",attrs:{text:t.myAddress,type:"5"},on:{getMsg:function(e){arguments[0]=e=t.$handleEvent(e),t.getMsg.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"topImg"},[n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{attrs:{src:"/static/logo1.png",mode:""}})],1)],1),n("v-uni-view",{staticClass:"indexBottom"},[n("v-uni-view",{staticClass:"btnList"},[n("v-uni-view",{staticClass:"item",class:0==t.idoType?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.idoType=0}}},[n("v-uni-view",{staticClass:"topItem"},[n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{attrs:{src:"/static/logo.png",mode:""}})],1),n("v-uni-view",{staticClass:"text"},[t._v("1000 U")])],1),n("v-uni-view",{staticClass:"bottomItem"},[n("v-uni-text",[t._v(t._s(t.$t("new1"))+":")]),n("v-uni-text",[t._v(t._s(t.maxNumInfo[0]-t.nowNumInfo[0]))])],1)],1),n("v-uni-view",{staticClass:"item",class:1==t.idoType?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.idoType=1}}},[n("v-uni-view",{staticClass:"topItem"},[n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{attrs:{src:"/static/logo.png",mode:""}})],1),n("v-uni-view",{staticClass:"text"},[t._v("3000 U")])],1),n("v-uni-view",{staticClass:"bottomItem"},[n("v-uni-text",[t._v(t._s(t.$t("new1"))+":")]),n("v-uni-text",[t._v(t._s(t.maxNumInfo[1]-t.nowNumInfo[1]))])],1)],1),n("v-uni-view",{staticClass:"item",class:2==t.idoType?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.idoType=2}}},[n("v-uni-view",{staticClass:"topItem"},[n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{attrs:{src:"/static/logo.png",mode:""}})],1),n("v-uni-view",{staticClass:"text"},[t._v("10000 U")])],1),n("v-uni-view",{staticClass:"bottomItem"},[n("v-uni-text",[t._v(t._s(t.$t("new1"))+":")]),n("v-uni-text",[t._v(t._s(t.maxNumInfo[2]-t.nowNumInfo[2]))])],1)],1),n("v-uni-view",{staticClass:"item",class:3==t.idoType?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.idoType=3}}},[n("v-uni-view",{staticClass:"topItem"},[n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{attrs:{src:"/static/logo.png",mode:""}})],1),n("v-uni-view",{staticClass:"text"},[t._v("50000 U")])],1),n("v-uni-view",{staticClass:"bottomItem"},[n("v-uni-text",[t._v(t._s(t.$t("new1"))+":")]),n("v-uni-text",[t._v(t._s(t.maxNumInfo[3]-t.nowNumInfo[3]))])],1)],1)],1)],1),t.Approve?n("v-uni-view",{staticClass:"btnSubmit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeIdo.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("home38")))])],1):n("v-uni-view",{staticClass:"btnSubmit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.FApprove.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("Approve")))])],1),n("w-loading",{ref:"loading",attrs:{text:"",mask:"true",click:"false"}})],1)},a=[]},"25fa":function(t,e,n){"use strict";n.r(e);var i=n("a6e8"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},"9b0f":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".content[data-v-77491412]{width:100%;height:100%;background-image:url(/static/indexBg.gif);background-size:100% 100%;min-height:100vh;box-sizing:border-box}.content .topImg[data-v-77491412]{margin-top:%?95?%;text-align:center}.content .topImg .img[data-v-77491412]{margin:0 auto;width:%?277?%;height:%?277?%}.content .topImg .img uni-image[data-v-77491412]{width:100%;height:100%}.content .topImg .title[data-v-77491412]{margin-top:%?70?%}.content .topImg .title .text[data-v-77491412]{font-family:MicrosoftYaHeiLight;font-size:%?28?%;color:#d48800}.content .topImg .title .num[data-v-77491412]{margin-top:%?20?%;font-family:MicrosoftYaHei;font-size:%?40?%;color:#fdc314}.content .indexBottom[data-v-77491412]{margin-top:%?150?%}.content .indexBottom .btnList[data-v-77491412]{box-sizing:border-box;display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.content .indexBottom .btnList .item[data-v-77491412]{margin:%?20?%;width:%?330?%;padding:%?20?% 0;background:rgba(0,0,0,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5)}.content .indexBottom .btnList .item .topItem[data-v-77491412]{display:flex;align-items:center;justify-content:center}.content .indexBottom .btnList .item .topItem .img[data-v-77491412]{width:%?32?%;height:%?32?%;margin-right:%?5?%}.content .indexBottom .btnList .item .topItem .img uni-image[data-v-77491412]{width:100%;height:100%}.content .indexBottom .btnList .item .topItem .text[data-v-77491412]{font-family:MicrosoftYaHei;font-size:%?32?%;color:#fdc314}.content .indexBottom .btnList .item .bottomItem[data-v-77491412]{text-align:center;margin-top:%?20?%}.content .indexBottom .btnList .item .bottomItem uni-text[data-v-77491412]{font-family:MicrosoftYaHei;font-size:%?28?%;color:#fdc314;margin-right:%?10?%}.content .indexBottom .btnList .active[data-v-77491412]{background:rgba(228,158,8,.1)}.content .btnSubmit[data-v-77491412]{margin:%?80?% %?28?% 0;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center}.content .btnSubmit .text[data-v-77491412]{font-size:%?28?%;color:#fdc314}",""]),t.exports=e},a6e8:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("2634")),s=i(n("2fdc"));n("c9b5"),n("bf0f"),n("ab80"),n("d4b5"),n("e966"),n("e838"),n("64aa");var r=i(n("832e")),o=i(n("a5bd")),c=i(n("5f8d")),u=(i(n("8984")),n("fed8")),d=i(n("e8d9")),l={components:{wLoading:d.default,back:o.default},data:function(){return{myAddress:"",isTopBind:"",userAddress:"",userAddress1:"",userAddress2:"",Approve:!1,allowanceB:0,tabList:["home19","home20"],tapIndex:0,drawalAmount:"",allPower:"",myPower:"",grade:"",myDrawalAmount:"",deliverAddress:"",idoType:0,nowNumInfo:[],maxNumInfo:[]}},filters:{plusXing2:function(t){if(0==t.length)return"";t.length;for(var e="",n=0;n<4;n++)e+="*";return t.substring(0,4)+e+t.substring(t.length-4)}},onLoad:function(t){var e=this;this.userAddress=void 0==t.userAddress?"":t.userAddress;var n=this;n.Init((function(){uni.setStorageSync("address",e.myAddress);var t=new n.ethers.providers.Web3Provider(window.ethereum);n.contract=new n.ethers.Contract(n.contractAddress,c.default,t.getSigner()),n.getMyBuy(),n.getMyInfo(),n.getUserNowInfo(),n.getUserMaxInfo(),n.Fallowance()}))},methods:{getMyBuy:function(){this.contract.getMyBuy(this.myAddress).then((function(t,e){0!=t[0].toString()&&uni.navigateTo({url:"/pages/giveaway/giveaway"})}))},setGiveAdult:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.loading.open(),e.next=3,t.contract.giveAdult(t.userAddress2).catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));(0,r.default)({title:t.$t("fromData13"),text:n.reason,icon:"error"})}));case 3:if(n=e.sent,!n){e.next=9;break}return e.next=7,n.wait();case 7:t.$refs.loading.close(),(0,r.default)({title:t.$t("success"),icon:"success"});case 9:case"end":return e.stop()}}),e)})))()},setGiveAddress:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.loading.open(),e.next=3,t.contract.giveAddress(t.userAddress1).catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));(0,r.default)({title:t.$t("fromData13"),text:n.reason,icon:"error"})}));case 3:if(n=e.sent,!n){e.next=9;break}return e.next=7,n.wait();case 7:t.$refs.loading.close(),(0,r.default)({title:t.$t("success"),icon:"success"});case 9:case"end":return e.stop()}}),e)})))()},changeIdo:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.loading.open(),e.next=3,t.contract.IDO(t.idoType).catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));(0,r.default)({title:t.$t("fromData13"),text:n.reason,icon:"error"})}));case 3:if(n=e.sent,!n){e.next=9;break}return e.next=7,n.wait();case 7:t.$refs.loading.close(),(0,r.default)({title:t.$t("success"),icon:"success"});case 9:case"end":return e.stop()}}),e)})))()},openPopup:function(t){1==t?this.$refs.popup1.open():2==t?this.$refs.popup2.open():3==t&&this.$refs.popup3.open()},close:function(t){1==t?this.$refs.popup1.close():2==t?this.$refs.popup2.close():3==t?this.$refs.popup3.close():this.$refs.popup.close()},copy:function(){var t=this;uni.setClipboardData({data:"https://www.arbsdapp.com/#/?userAddress="+this.myAddress,success:function(){uni.showToast({icon:"none",title:t.$t("success")})}})},plusXing2:function(t){if(0==t.length)return"";if("0x0000000000000000000000000000000000000000"==t&&t.toLowerCase()!=this.userAddress.toLowerCase())return this.$t("fromData12");t.length;for(var e="",n=0;n<3;n++)e+="*";return t.substring(0,4)+e+t.substring(t.length-5)},getUserNowInfo:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.contract.getNowBuy().catch((function(e){var n=JSON.parse(JSON.stringify(e));(0,r.default)({title:t.$t("fromData13"),text:n.reason,icon:"error"})}));case 2:n=e.sent,n&&(t.nowNumInfo=n);case 4:case"end":return e.stop()}}),e)})))()},getUserMaxInfo:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.contract.getMaxBuy().catch((function(e){var n=JSON.parse(JSON.stringify(e));(0,r.default)({title:t.$t("fromData13"),text:n.reason,icon:"error"})}));case 2:n=e.sent,n&&(t.maxNumInfo=n);case 4:case"end":return e.stop()}}),e)})))()},getMyInfo:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.contract.getCalInfo(t.myAddress).catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));(0,r.default)({title:t.$t("fromData13"),text:n.reason,icon:"error"})}));case 2:n=e.sent,n&&(t.allPower=(0,u.mobileFilter)(n[0]),t.myPower=(0,u.mobileFilter)(n[1]));case 4:case"end":return e.stop()}}),e)})))()},drawAmount:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.drawalAmount){e.next=3;break}return uni.showToast({icon:"none",title:t.$t("home29")}),e.abrupt("return");case 3:if(!(t.myDrawalAmount<t.drawalAmount)){e.next=6;break}return uni.showToast({icon:"none",title:t.$t("home30")}),e.abrupt("return");case 6:return t.$refs.loading.open(),e.next=9,t.contract.drawAmount(t.ethers.utils.parseEther(t.drawalAmount)).catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));(0,r.default)({title:t.$t("fromData13"),text:n.reason,icon:"error"})}));case 9:if(n=e.sent,!n){e.next=16;break}return e.next=13,n.wait();case 13:t.$refs.loading.close(),t.$refs.popup1.close(),(0,r.default)({title:t.$t("success"),icon:"success"});case 16:case"end":return e.stop()}}),e)})))()},clickTap:function(t){this.tapIndex=t},clickBing:function(){this.$refs.popup1.open()},getMsg:function(t){var e="zh-CN"==this._i18n.locale?"en-US":"zh-CN";uni.setStorageSync("language",e),this._i18n.locale=e},bindTop:function(){var t=this;this.contract.getParent(this.myAddress).then((function(e,n){t.isTopBind=e,"0x0000000000000000000000000000000000000000"==t.isTopBind&&t.myAddress.toLowerCase()!=t.userAddress.toLowerCase()&&t.$refs.popup.open()}))},mobileFilter1:function(t){var e=t.toString();return e},mobileFilter2:function(t){var e=t.toString(),n=this.ethers.utils.formatUnits(e);return parseInt(n)===parseFloat(n)?parseInt(n):Number(n).toFixed(4)},Fallowance:function(){var t=this;(0,u.allowance)(this.myAddress,this.contractAddress).then((function(e){if(e){var n=(0,u.mobileFilter)(e);t.allowanceB=n,parseInt(n)<=parseInt(0)?t.Approve=!1:t.Approve=!0}}))},FApprove:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.loading.open(),e.next=3,(0,u.usdtApprove)(t.contractAddress).catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));(0,r.default)({title:"失败",text:n.reason,icon:"error"})}));case 3:if(n=e.sent,!n){e.next=12;break}return e.next=7,n.wait();case 7:t.$refs.loading.close(),t.Fallowance(),(0,r.default)({title:t.$t("success"),icon:"success"}),e.next=13;break;case 12:t.$refs.loading.close();case 13:case"end":return e.stop()}}),e)})))()},formatDate:function(t){var e=1e3*t;(new Date).getTime(),t=new Date;t.setTime(e);var n=t.getFullYear(),i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate(),s=t.getHours()<10?"0"+t.getHours():t.getHours(),r=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),o=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),c=n+"-"+i+"-"+a+" "+s+":"+r+":"+o;return c},clickBind:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.loading.open(),e.next=3,t.contract.bindParent(t.userAddress).catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));uni.showToast({title:n.reason,icon:"none"})}));case 3:if(n=e.sent,!n){e.next=20;break}return e.prev=5,e.next=8,n.wait();case 8:t.$refs.loading.close(),uni.showToast({title:t.$t("success"),icon:"none"}),t.bindTop(),t.$refs.popup.close(),e.next=20;break;case 14:e.prev=14,e.t0=e["catch"](5),console.log(e.t0),t.$refs.loading.close(),t.$refs.popup.close(),uni.showToast({title:e.t0.toString(),icon:"none"});case 20:case"end":return e.stop()}}),e,null,[[5,14]])})))()},Init:function(t){var e=this;return(0,s.default)((0,a.default)().mark((function n(){var i,s;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("undefined"!==typeof window.ethereum){n.next=4;break}console.log("请安装MetaMask"),n.next=10;break;case 4:return i=new e.ethers.providers.Web3Provider(window.ethereum),n.next=7,i.send("eth_requestAccounts",[]);case 7:s=n.sent,e.myAddress=s[0],t();case 10:case"end":return n.stop()}}),n)})))()}}};e.default=l},cba26:function(t,e,n){"use strict";n.r(e);var i=n("0357"),a=n("25fa");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("fed8b");var r=n("828b"),o=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"77491412",null,!1,i["a"],void 0);e["default"]=o.exports},da52:function(t,e,n){var i=n("9b0f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("9247aff8",i,!0,{sourceMap:!1,shadowMode:!1})},fed8b:function(t,e,n){"use strict";var i=n("da52"),a=n.n(i);a.a}}]);