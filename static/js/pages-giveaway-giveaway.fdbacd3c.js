(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-giveaway-giveaway"],{"14fd":function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d4b5");var i=n(a("2634")),o=n(a("2fdc")),r=n(a("1d12")),s=n(a("860d")),d=n(a("aea0")),c=(n(a("e821")),a("fc64")),u=n(a("ebda")),l=(a("d772"),{components:{wLoading:u.default,back:s.default},data:function(){return{myAddress:"",userAddress:"",userAddress1:"",userAddress2:"",Approve:!1,allowanceB:0,tabList:["home19","home20","withdrawal","list3"],tapIndex1:0,scrollTop:0,limitAll:0,limit:20,page:1,num1:"",num2:"",num3:"",alreadyNum1:"",alreadyNum2:"",gradeType:0}},onLoad:function(t){var e=this;this.userAddress=void 0==t.userAddress?"":t.userAddress;var a=this;a.Init((function(){uni.setStorageSync("address",e.myAddress);var t=new a.ethers.providers.Web3Provider(window.ethereum);a.contract=new a.ethers.Contract(a.contractAddress,d.default,t.getSigner()),a.getMyBuy()}))},methods:{url:function(){uni.redirectTo({url:"/pages/activation/activation"})},setGiveAddress:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.userAddress1){e.next=3;break}return uni.showToast({title:t.$t("home35"),icon:"none"}),e.abrupt("return");case 3:return t.$refs.loading.open(),e.next=6,t.contract.giveAddress(t.userAddress1).catch((function(e){t.$refs.loading.close();var a=JSON.parse(JSON.stringify(e));(0,r.default)({title:t.$t("fromData13"),text:a.reason,icon:"error"})}));case 6:if(a=e.sent,!a){e.next=13;break}return e.next=10,a.wait();case 10:t.$refs.loading.close(),(0,r.default)({title:t.$t("success"),icon:"success"}),t.userAddress1="";case 13:case"end":return e.stop()}}),e)})))()},getCan:function(){var t=this;this.contract.getCanGet().then((function(e,a){console.log(e),0!=t.gradeType?(t.num1=e[1][JSON.parse(t.gradeType)-1]-t.alreadyNum1,t.num3=e[0][JSON.parse(t.gradeType)-1]-t.alreadyNum2,t.num2=(0,c.mobileFilter)(e[2][JSON.parse(t.gradeType)-1])):(t.num1=0,t.num3=0,t.num2=0)}))},getMyBuy:function(){var t=this;this.contract.getMyBuy(this.myAddress).then((function(e,a){t.gradeType=e[0],t.alreadyNum1=e[1],t.alreadyNum2=e[2],t.getCan()}))},getMsg:function(t){},Init:function(t){var e=this;return(0,o.default)((0,i.default)().mark((function a(){var n,o;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("undefined"!==typeof window.ethereum){a.next=4;break}console.log("请安装MetaMask"),a.next=10;break;case 4:return n=new e.ethers.providers.Web3Provider(window.ethereum),a.next=7,n.send("eth_requestAccounts",[]);case 7:o=a.sent,e.myAddress=o[0],t();case 10:case"end":return a.stop()}}),a)})))()}}});e.default=l},"22c0":function(t,e,a){"use strict";a.r(e);var n=a("14fd"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"5dee":function(t,e,a){var n=a("8ec1");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("2e0d89de",n,!0,{sourceMap:!1,shadowMode:!1})},"8cc4":function(t,e,a){"use strict";a.r(e);var n=a("f802"),i=a("22c0");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("b361");var r=a("828b"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"aafab992",null,!1,n["a"],void 0);e["default"]=s.exports},"8ec1":function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,".content[data-v-aafab992]{width:100%;height:100%;min-height:100vh;background-color:#100f0b;box-sizing:border-box}.content .giveNavTop[data-v-aafab992]{margin:%?40?% %?25?%}.content .giveNavTop .title[data-v-aafab992]{display:flex;align-items:center}.content .giveNavTop .title .img[data-v-aafab992]{width:%?34?%;height:%?33?%;margin-right:%?15?%}.content .giveNavTop .title .img uni-image[data-v-aafab992]{width:100%;height:100%}.content .giveNavTop .title .text[data-v-aafab992]{font-size:%?30?%;color:#fff}.content .giveNavTop .fromData[data-v-aafab992]{margin-top:%?30?%;background:#191917;border-radius:%?20?%;border:%?2?% solid #403c34;padding:%?35?% %?25?%}.content .giveNavTop .fromData .text[data-v-aafab992]{font-weight:800;font-size:%?30?%;color:#fff}.content .giveNavTop .fromData .input[data-v-aafab992]{margin-top:%?20?%;height:%?100?%;background:#333335;border-radius:%?20?%;padding:0 %?15?%}.content .giveNavTop .fromData .input uni-input[data-v-aafab992]{height:%?100?%;color:#fff}.content .giveNavTop .fromData .samll[data-v-aafab992]{margin-top:%?20?%;display:flex}.content .giveNavTop .fromData .samll .text[data-v-aafab992]{font-size:%?24?%;color:#fff;text-align:left}.content .giveNavTop .fromData .samll .text1[data-v-aafab992]{color:#e2c091;font-size:%?24?%;text-align:left}.content .giveNavTop .fromData .btn[data-v-aafab992]{margin-top:%?50?%;background:linear-gradient(90deg,#e9cc9e 30%,#d5ab78 70%);border-radius:%?25?%;height:%?100?%;font-weight:900;font-size:%?34?%;color:#100f0b;display:flex;align-items:center;justify-content:center}.content .dpoMain[data-v-aafab992]{margin:0 %?40?%;background-image:url(/static/bgInfo.png);background-size:100% 100%;padding:%?30?%;box-sizing:border-box;position:fixed;border-radius:%?15?%;bottom:%?109?%;left:0;right:0}.content .dpoMain .title[data-v-aafab992]{display:flex;align-items:center}.content .dpoMain .title .img[data-v-aafab992]{width:%?48?%;height:%?49?%;margin-right:%?19?%}.content .dpoMain .title .img uni-image[data-v-aafab992]{width:100%;height:100%}.content .dpoMain .title .version[data-v-aafab992]{display:flex;align-items:center}.content .dpoMain .title .version .text[data-v-aafab992]{font-size:%?28?%;color:#d48800;margin-right:%?19?%}.content .dpoMain .title .version .samll[data-v-aafab992]{font-size:%?28?%;color:#fdc314}.content .dpoMain .DataList[data-v-aafab992]{margin-top:%?61?%;border:%?2?% solid;padding:%?40?% %?30?%;border-color:rgba(228,158,8,.5);border-radius:%?10?%}.content .dpoMain .DataList .item[data-v-aafab992]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?40?%}.content .dpoMain .DataList .item .text[data-v-aafab992]{font-family:MicrosoftYaHeiLight;font-size:%?32?%;color:#d48800}.content .dpoMain .DataList .item .num[data-v-aafab992]{font-family:MicrosoftYaHei;font-size:%?32?%;color:#fdc314}.content .dpoMain .DataList .item[data-v-aafab992]:last-child{margin-bottom:0}.content .dpoMain .operateBtn[data-v-aafab992]{display:flex;align-items:center;justify-content:space-between;margin:%?50?% 0 %?70?%}.content .dpoMain .operateBtn .item[data-v-aafab992]{width:%?184?%;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center}.content .dpoMain .operateBtn .item .img[data-v-aafab992]{width:%?30?%;height:%?30?%;margin-right:%?15?%}.content .dpoMain .operateBtn .item .img uni-image[data-v-aafab992]{width:100%;height:100%}.content .dpoMain .operateBtn .item .text[data-v-aafab992]{font-family:MicrosoftYaHei;font-size:%?28?%;color:#fdc314}.insureBox[data-v-aafab992]{width:%?600?%;box-sizing:border-box;border-radius:%?15?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);background-color:rgba(0,0,0,.8);padding:%?30?%;position:relative}.insureBox .colse[data-v-aafab992]{position:absolute;right:%?30?%;width:%?35?%;height:%?35?%}.insureBox .colse uni-image[data-v-aafab992]{width:100%;height:100%}.insureBox .titlePup .pupBox[data-v-aafab992]{text-align:center}.insureBox .titlePup .pupBox .logo[data-v-aafab992]{width:%?75?%;height:%?77?%;margin-bottom:%?20?%}.insureBox .titlePup .pupBox .logo uni-image[data-v-aafab992]{width:100%;height:100%}.insureBox .titlePup .pupBox .name[data-v-aafab992]{color:#fff}.insureBox .inputPup[data-v-aafab992]{border:%?2?% solid;border-color:rgba(228,158,8,.5);padding:%?15?%;border-radius:%?10?%;margin-top:%?30?%;color:#fff}.insureBox .btnPup[data-v-aafab992]{width:%?184?%;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center;margin:%?30?% auto 0}.insureBox .btnPup .text[data-v-aafab992]{font-family:MicrosoftYaHei;font-size:%?36?%;color:#fdc314}.idoBtn[data-v-aafab992]{position:fixed;border-radius:%?15?%;bottom:%?50?%;left:0;right:0;margin:0 auto;width:%?184?%;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center}.idoBtn .text[data-v-aafab992]{font-family:MicrosoftYaHei;font-size:%?28?%;color:#fdc314}",""]),t.exports=e},b361:function(t,e,a){"use strict";var n=a("5dee"),i=a.n(n);i.a},d772:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.getMyTeam=e.getMyInfo=e.getMyDraw=e.getMyCoinLog=e.OpenData=void 0;var n=a("f4ba");e.getMyInfo=function(t){return(0,n.reqPost)("/getMyInfo",t)};e.OpenData=function(t){return(0,n.reqPost)("/getMessage",t)};e.getMyTeam=function(t){return(0,n.reqPost)("/getMyTeam",t)};e.getMyDraw=function(t){return(0,n.reqPost)("/getCalLog",t)};e.getMyCoinLog=function(t){return(0,n.reqPost)("/getSendLog",t)}},f4ba:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.reqGet=function(t,e){return function(t,e){return new Promise((function(a){uni.request({url:n+t,method:"GET",data:e,header:{"Content-Type":"application/json;charset=UTF-8"},success:function(t){a(t.data)}})}))}(t,e)},e.reqPost=function(t,e){return function(t,e){return new Promise((function(a){uni.request({url:n+t,method:"POST",data:e,header:{"Content-Type":"application/json;charset=UTF-8",hash:uni.getStorageSync("hash"),id:uni.getStorageSync("id")},success:function(t){a(t.data)}})}))}(t,e)},e.upPost=function(t,e){return function(t,e){return new Promise((function(a){uni.uploadFile({url:n+t,file:e,name:"test",header:{hash:uni.getStorageSync("hash"),id:uni.getStorageSync("id")},success:function(t){console.log(t),a(t.data)}})}))}(t,e)},a("bf0f");var n="https://www.neww.site:451"},f802:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uniPopup:a("5065").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("back",{ref:"child",attrs:{text:t.myAddress,type:"6"},on:{getMsg:function(e){arguments[0]=e=t.$handleEvent(e),t.getMsg.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"giveNavTop"},[a("v-uni-view",{staticClass:"title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.url.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"img"},[a("v-uni-image",{attrs:{src:"/static/give1.png"}})],1),a("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("give1")))])],1),a("v-uni-view",{staticClass:"fromData"},[a("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("give2")))]),a("v-uni-view",{staticClass:"input"},[a("v-uni-input",{attrs:{"placeholder-style":"color:#666;",placeholder:t.$t("home35"),type:"text"},model:{value:t.userAddress1,callback:function(e){t.userAddress1=e},expression:"userAddress1"}})],1),a("v-uni-view",{staticClass:"samll"},[a("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("give4")))]),a("v-uni-view",{staticClass:"text1"},[t._v(t._s(t.num1)+"("+t._s(t.num2)+"T)")])],1),a("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setGiveAddress.apply(void 0,arguments)}}},[t._v(t._s(t.$t("give5")))])],1)],1),a("uni-popup",{ref:"popup2",attrs:{type:"center","mask-click":!0}},[a("v-uni-view",{staticClass:"insureBox"},[a("v-uni-view",{staticClass:"colse",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(2)}}},[a("v-uni-image",{attrs:{src:"/static/close.png",mode:""}})],1),a("v-uni-view",{staticClass:"titlePup"},[a("v-uni-view",{staticClass:"pupBox"},[a("v-uni-image",{staticClass:"logo",attrs:{src:"/static/logo.png",mode:""}}),a("v-uni-view",{staticClass:"name"},[t._v(t._s(t.$t("home34")))])],1)],1),a("v-uni-view",{staticClass:"inputPup"},[a("v-uni-input",{attrs:{"placeholder-style":"color:#fff;",placeholder:t.$t("home35"),type:"text"},model:{value:t.userAddress1,callback:function(e){t.userAddress1=e},expression:"userAddress1"}})],1),a("v-uni-view",{staticClass:"btnPup",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setGiveAddress()}}},[a("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("home28")))])],1)],1)],1),a("w-loading",{ref:"loading",attrs:{text:"",mask:"true",click:"false"}})],1)},o=[]}}]);