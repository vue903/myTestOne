(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-activation-activation"],{"160c":function(t,e,n){"use strict";var i=n("22b1"),a=n.n(i);a.a},"22b1":function(t,e,n){var i=n("9e92");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("2222d6bb",i,!0,{sourceMap:!1,shadowMode:!1})},"42bba":function(t,e,n){"use strict";n.r(e);var i=n("a9b9"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"5dcc":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.reqGet=function(t,e){return function(t,e){return new Promise((function(n){uni.request({url:i+t,method:"GET",data:e,header:{"Content-Type":"application/json;charset=UTF-8"},success:function(t){n(t.data)}})}))}(t,e)},e.reqPost=function(t,e){return function(t,e){return new Promise((function(n){uni.request({url:i+t,method:"POST",data:e,header:{"Content-Type":"application/json;charset=UTF-8",hash:uni.getStorageSync("hash"),id:uni.getStorageSync("id")},success:function(t){n(t.data)}})}))}(t,e)},e.upPost=function(t,e){return function(t,e){return new Promise((function(n){uni.uploadFile({url:i+t,file:e,name:"test",header:{hash:uni.getStorageSync("hash"),id:uni.getStorageSync("id")},success:function(t){console.log(t),n(t.data)}})}))}(t,e)},n("bf0f");var i="https://www.neww.site:448"},"6aef":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.OpenData=void 0;var i=n("5dcc");e.OpenData=function(t){return(0,i.reqPost)("/getMessage",t)}},"8ba1":function(t,e,n){"use strict";n.r(e);var i=n("ce2b"),a=n("42bba");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("160c");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"2a632758",null,!1,i["a"],void 0);e["default"]=s.exports},"9e92":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".content[data-v-2a632758]{width:100%;height:100%;background-image:url(/static/indexBg.gif);background-size:100% 100%;min-height:100vh;box-sizing:border-box}.content .dpoMain[data-v-2a632758]{margin:0 %?40?%;background-image:url(/static/bgInfo.png);background-size:100% 100%;padding:%?30?%;box-sizing:border-box;position:fixed;border-radius:%?15?%;bottom:%?309?%;left:0;right:0}.content .dpoMain .title[data-v-2a632758]{justify-content:center;display:flex;align-items:center}.content .dpoMain .title .img[data-v-2a632758]{width:%?48?%;height:%?49?%;margin-right:%?19?%}.content .dpoMain .title .img uni-image[data-v-2a632758]{width:100%;height:100%}.content .dpoMain .title .version[data-v-2a632758]{display:flex;align-items:center}.content .dpoMain .title .version .text[data-v-2a632758]{font-size:%?36?%;color:#d48800;margin-right:%?19?%}.content .dpoMain .title .version .samll[data-v-2a632758]{font-size:%?36?%;color:#fdc314}.content .dpoMain .DataList[data-v-2a632758]{margin-top:%?61?%;border-radius:%?10?%}.content .dpoMain .DataList .item[data-v-2a632758]{display:flex;align-items:center;justify-content:center;margin-bottom:%?40?%}.content .dpoMain .DataList .item .text[data-v-2a632758]{font-family:MicrosoftYaHeiLight;font-size:%?32?%;color:#d48800}.content .dpoMain .DataList .item .num[data-v-2a632758]{font-family:MicrosoftYaHei;font-size:%?32?%;color:#fdc314}.content .dpoMain .DataList .item[data-v-2a632758]:last-child{margin-bottom:0}.content .dpoMain .operateBtn[data-v-2a632758]{display:flex;align-items:center;justify-content:space-between;margin:%?50?% 0 %?0?%}.content .dpoMain .operateBtn .item[data-v-2a632758]{width:100%;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center}.content .dpoMain .operateBtn .item .img[data-v-2a632758]{width:%?30?%;height:%?30?%;margin-right:%?15?%}.content .dpoMain .operateBtn .item .img uni-image[data-v-2a632758]{width:100%;height:100%}.content .dpoMain .operateBtn .item .text[data-v-2a632758]{font-family:MicrosoftYaHei;font-size:%?28?%;color:#fdc314}.insureBox[data-v-2a632758]{width:%?600?%;box-sizing:border-box;border-radius:%?15?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);background-color:rgba(0,0,0,.8);padding:%?30?%;position:relative}.insureBox .colse[data-v-2a632758]{position:absolute;right:%?30?%;width:%?35?%;height:%?35?%}.insureBox .colse uni-image[data-v-2a632758]{width:100%;height:100%}.insureBox .titlePup .pupBox[data-v-2a632758]{text-align:center}.insureBox .titlePup .pupBox .logo[data-v-2a632758]{width:%?75?%;height:%?77?%;margin-bottom:%?20?%}.insureBox .titlePup .pupBox .logo uni-image[data-v-2a632758]{width:100%;height:100%}.insureBox .titlePup .pupBox .name[data-v-2a632758]{color:#fff}.insureBox .inputPup[data-v-2a632758]{border:%?2?% solid;border-color:rgba(228,158,8,.5);padding:%?15?%;border-radius:%?10?%;margin-top:%?30?%;color:#fff}.insureBox .btnPup[data-v-2a632758]{width:%?184?%;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center;margin:%?30?% auto 0}.insureBox .btnPup .text[data-v-2a632758]{font-family:MicrosoftYaHei;font-size:%?36?%;color:#fdc314}.idoBtn[data-v-2a632758]{position:fixed;border-radius:%?15?%;bottom:%?50?%;left:0;right:0;margin:0 auto;width:%?184?%;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center}.idoBtn .text[data-v-2a632758]{font-family:MicrosoftYaHei;font-size:%?28?%;color:#fdc314}.btnSmall[data-v-2a632758]{text-align:center;color:#fff;font-size:%?26?%;margin-top:%?25?%}",""]),t.exports=e},a9b9:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d4b5"),n("c9b5"),n("bf0f"),n("ab80"),n("e966"),n("e838"),n("64aa");var a=i(n("2634")),r=i(n("2fdc")),o=i(n("832e")),s=i(n("a5bd")),c=i(n("5f8d")),d=(i(n("8984")),n("fed8")),u=i(n("e8d9")),l=(n("6aef"),{components:{wLoading:u.default,back:s.default},data:function(){return{myAddress:"",isTopBind:"",userAddress:"",Approve:!1,allowanceB:0,typeActive:!1,typeNum:"",myNum:""}},filters:{plusXing2:function(t){if(0==t.length)return"";t.length;for(var e="",n=0;n<4;n++)e+="*";return t.substring(0,4)+e+t.substring(t.length-4)}},onLoad:function(t){var e=this;this.userAddress=void 0==t.userAddress?"":t.userAddress;var n=this;n.Init((function(){uni.setStorageSync("address",e.myAddress);var t=new n.ethers.providers.Web3Provider(window.ethereum);n.contract=new n.ethers.Contract(n.contractAddress,c.default,t.getSigner()),n.getNeedUActive(),n.getSystemA(),n.getGiveCal()}))},methods:{getGiveCal:function(){var t=this;this.contract.getGiveCal(this.myAddress).then((function(e,n){t.typeNum=(0,d.mobileFilter)(e[0]),console.log(t.typeNum)}))},getSystemA:function(){var t=this;this.contract.getSystemA(this.myAddress).then((function(e,n){t.myNum=(0,d.mobileFilter)(e)}))},getNeedUActive:function(){var t=this;this.contract.getNeedUActive(this.myAddress).then((function(e,n){console.log(e),t.typeActive=e[0]}))},setActiveSystem:function(){var t=this;return(0,r.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.loading.open(),e.next=3,t.contract.activeSystem().catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));(0,o.default)({title:t.$t("fromData13"),text:n.reason,icon:"error"})}));case 3:if(n=e.sent,!n){e.next=9;break}return e.next=7,n.wait();case 7:t.$refs.loading.close(),(0,o.default)({title:t.$t("success"),icon:"success"});case 9:case"end":return e.stop()}}),e)})))()},setActiveAdult:function(){var t=this;return(0,r.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.loading.open(),e.next=3,t.contract.activeAdult().catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));(0,o.default)({title:t.$t("fromData13"),text:n.reason,icon:"error"})}));case 3:if(n=e.sent,!n){e.next=9;break}return e.next=7,n.wait();case 7:t.$refs.loading.close(),(0,o.default)({title:t.$t("success"),icon:"success"});case 9:case"end":return e.stop()}}),e)})))()},plusXing2:function(t){if(0==t.length)return"";if("0x0000000000000000000000000000000000000000"==t&&t.toLowerCase()!=this.userAddress.toLowerCase())return this.$t("fromData12");t.length;for(var e="",n=0;n<3;n++)e+="*";return t.substring(0,4)+e+t.substring(t.length-5)},getMsg:function(t){var e="zh-CN"==this._i18n.locale?"en-US":"zh-CN";uni.setStorageSync("language",e),this._i18n.locale=e},mobileFilter1:function(t){var e=t.toString();return e},mobileFilter2:function(t){var e=t.toString(),n=this.ethers.utils.formatUnits(e);return parseInt(n)===parseFloat(n)?parseInt(n):Number(n).toFixed(4)},Fallowance:function(){var t=this;(0,d.allowance)(this.myAddress,this.contractAddress).then((function(e){if(e){var n=(0,d.mobileFilter)(e);t.allowanceB=n,console.log(parseInt(n)),parseInt(n)<=parseInt(0)?t.Approve=!1:t.Approve=!0}}))},FApprove:function(){var t=this;return(0,r.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.loading.open(),e.next=3,(0,d.usdtApprove)(t.contractAddress).catch((function(e){t.$refs.loading.close();var n=JSON.parse(JSON.stringify(e));(0,o.default)({title:"失败",text:n.reason,icon:"error"})}));case 3:if(n=e.sent,!n){e.next=12;break}return e.next=7,n.wait();case 7:t.$refs.loading.close(),t.Fallowance(),(0,o.default)({title:t.$t("success"),icon:"success"}),e.next=13;break;case 12:t.$refs.loading.close();case 13:case"end":return e.stop()}}),e)})))()},formatDate:function(t){var e=1e3*t;(new Date).getTime(),t=new Date;t.setTime(e);var n=t.getFullYear(),i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate(),r=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),c=n+"-"+i+"-"+a+" "+r+":"+o+":"+s;return c},Init:function(t){var e=this;return(0,r.default)((0,a.default)().mark((function n(){var i,r;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("undefined"!==typeof window.ethereum){n.next=4;break}console.log("请安装MetaMask"),n.next=10;break;case 4:return i=new e.ethers.providers.Web3Provider(window.ethereum),n.next=7,i.send("eth_requestAccounts",[]);case 7:r=n.sent,e.myAddress=r[0],t();case 10:case"end":return n.stop()}}),n)})))()}}});e.default=l},ce2b:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("back",{ref:"child",attrs:{text:t.myAddress,type:"7"},on:{getMsg:function(e){arguments[0]=e=t.$handleEvent(e),t.getMsg.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"dpoMain"},[n("v-uni-view",{staticClass:"title"},[n("v-uni-view",{staticClass:"version"},[n("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("home48")))])],1)],1),n("v-uni-view",{staticClass:"DataList"},[t.typeActive?n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"num"},[t._v(t._s(t.typeNum))])],1):n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"num"},[t._v(t._s(t.myNum))])],1)],1),n("v-uni-view",{staticClass:"operateBtn"},[t.typeActive?n("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setActiveAdult.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{attrs:{src:"/static/btn2.png",mode:""}})],1),n("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("home53")))])],1):n("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setActiveSystem.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{attrs:{src:"/static/btn2.png",mode:""}})],1),n("v-uni-view",{staticClass:"text"},[t._v(t._s(t.$t("home53")))])],1)],1)],1),n("w-loading",{ref:"loading",attrs:{text:"",mask:"true",click:"false"}})],1)},a=[]}}]);