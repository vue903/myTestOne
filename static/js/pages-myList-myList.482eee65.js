(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-myList-myList"],{1395:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("2634")),s=i(n("2fdc"));n("e966"),n("e838"),n("64aa"),n("d4b5"),n("c223"),n("c9b5"),n("bf0f"),n("ab80");var o=i(n("832e")),r=i(n("a5bd")),c=i(n("5f8d")),u=(i(n("8984")),i(n("e8d9"))),d=(n("fed8"),n("6aef")),l={components:{wLoading:u.default,back:r.default},data:function(){return{myAddress:"",userAddress:"",Approve:!1,allowanceB:0,tabList:["home19","home20","withdrawal","list3"],tapIndex1:0,scrollTop:0,scrollTop1:0,limitAll:0,limit:20,page:1,switchType:1,myDraw:[],coinLog:[]}},filters:{timeStamp:function(t){if(0==t)return"--";var e=1e3*t,n=new Date;n.setTime(e);var i=n.getMonth()+1,a=n.getHours();a<10&&(a="0"+a);var s=n.getMinutes();s<10&&(s="0"+s);var o=i+"-"+n.getDate()+" "+a+":"+s;return o},plusXing1:function(t){if(0==t.length)return"";t.length;for(var e="",n=0;n<4;n++)e+="*";return t.substring(0,4)+e+t.substring(t.length-4)}},onLoad:function(t){var e=this;this.userAddress=void 0==t.userAddress?"":t.userAddress;var n=this;n.Init((function(){uni.setStorageSync("address",e.myAddress);var t=new n.ethers.providers.Web3Provider(window.ethereum);n.contract=new n.ethers.Contract(n.contractAddress,c.default,t.getSigner()),n.getMyDraw(),n.getMyCoinLog()}))},onReachBottom:function(){this.limitAll>this.page&&(this.page++,1==this.switchType?this.getMyDraw():this.getMyCoinLog())},methods:{switchTap:function(t){this.switchType=t,this.scrollTop1="10px",this.scrollTop=1},upper1:function(t){console.log("最上面",t)},lower1:function(t){console.log("最下面",t)},upper:function(t){console.log("最上面",t)},lower:function(t){console.log("最下面",t)},numMy:function(t){return parseInt(t)===parseFloat(t)?parseInt(t):Number(t).toFixed(2)},coinType:function(t){return 1==t?this.$t("fromData1"):2==t?this.$t("fromData2"):3==t?this.$t("fromData3"):4==t?this.$t("fromData4"):this.$t("fromData5")},backOn:function(){uni.navigateBack()},closeGive:function(t){var e=this;return(0,s.default)((0,a.default)().mark((function n(){var i;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.$refs.loading.open(),n.next=3,e.contract.cancelAdult(t).catch((function(t){e.$refs.loading.close();var n=JSON.parse(JSON.stringify(t));(0,o.default)({title:e.$t("fromData13"),text:n.reason,icon:"error"})}));case 3:if(i=n.sent,!i){n.next=10;break}return n.next=7,i.wait();case 7:e.$refs.loading.close(),e.getMyCoinLog(),(0,o.default)({title:e.$t("success"),icon:"success"});case 10:case"end":return n.stop()}}),n)})))()},plusXing2:function(t){if(0==t.length)return"";if(0==t.length)return"";t.length;for(var e="",n=0;n<3;n++)e+="*";return t.substring(0,4)+e+t.substring(t.length-4)},pageCount:function(t,e){return t>0?t<e?1:t%e?parseInt(t/e)+1:t/e:0},getMyDraw:function(){var t=this;(0,d.getMyDraw)({page:this.page,limit:20,address:this.myAddress}).then((function(e){0==e.code&&(t.myDraw=t.myDraw.concat(e.data),t.limitAll=t.pageCount(e.num,t.limit))}))},getMyCoinLog:function(){var t=this;(0,d.getMyCoinLog)({page:this.page,limit:20,address:this.myAddress}).then((function(e){0==e.code&&(t.coinLog=t.coinLog.concat(e.data),t.limitAll=t.pageCount(e.num,t.limit))}))},debounceClick:function(t){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.clickTap(t)}),200)},clickTap:function(t){this.tapIndex1=t,this.page=1,this.JoinList=[],this.myTeam=[],this.coinLog=[],this.myDraw=[],0==t||1==t||(2==t?this.getMyDraw():this.getMyCoinLog())},clickBing:function(){this.$refs.popup1.open()},getMsg:function(t){var e="zh-CN"==this._i18n.locale?"en-US":"zh-CN";uni.setStorageSync("language",e),this._i18n.locale=e},mobileFilter1:function(t){var e=t.toString();return e},mobileFilter2:function(t){var e=t.toString(),n=this.ethers.utils.formatUnits(e);return parseInt(n)===parseFloat(n)?parseInt(n):Number(n).toFixed(4)},formatDate:function(t){var e=1e3*t;(new Date).getTime(),t=new Date;t.setTime(e);var n=t.getFullYear(),i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate(),s=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),r=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),c=n+"-"+i+"-"+a+" "+s+":"+o+":"+r;return c},Init:function(t){var e=this;return(0,s.default)((0,a.default)().mark((function n(){var i,s;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("undefined"!==typeof window.ethereum){n.next=4;break}console.log("请安装MetaMask"),n.next=10;break;case 4:return i=new e.ethers.providers.Web3Provider(window.ethereum),n.next=7,i.send("eth_requestAccounts",[]);case 7:s=n.sent,e.myAddress=s[0],t();case 10:case"end":return n.stop()}}),n)})))()}}};e.default=l},"469d":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("back",{ref:"child",attrs:{text:t.myAddress,type:"2"},on:{getMsg:function(e){arguments[0]=e=t.$handleEvent(e),t.getMsg.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"dpoMain"},[n("v-uni-view",{staticClass:"switchBtn"},[n("v-uni-view",{staticClass:"btn",class:1==t.switchType?"activeBtn":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchTap(1)}}},[t._v(t._s(t.$t("home25")))]),n("v-uni-view",{staticClass:"btn",class:2==t.switchType?"activeBtn":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchTap(2)}}},[t._v(t._s(t.$t("new6")))])],1),1==t.switchType?n("v-uni-view",{staticClass:"dataList"},[n("v-uni-view",{staticClass:"navList"},[n("v-uni-view",{staticClass:"item item1"},[t._v(t._s(t.$t("new7")))]),n("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("new8")))]),n("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("new9")))])],1),n("v-uni-view",{staticClass:"navList1"},[n("v-uni-scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-top":t.scrollTop1,"scroll-y":"true"},on:{scrolltoupper:function(e){arguments[0]=e=t.$handleEvent(e),t.upper1.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower1.apply(void 0,arguments)}}},t._l(t.myDraw,(function(e,i){return n("v-uni-view",{key:i,staticClass:"dataList"},[n("v-uni-view",{staticClass:"item item1"},[t._v(t._s(e.changeAmount))]),n("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("type"+e.changeType)))]),n("v-uni-view",{staticClass:"item"},[t._v(t._s(t._f("timeStamp")(e.logTime)))])],1)})),1)],1)],1):t._e(),2==t.switchType?n("v-uni-view",{staticClass:"dataList"},[n("v-uni-view",{staticClass:"navList"},[n("v-uni-view",{staticClass:"item item1"},[t._v(t._s(t.$t("home21")))]),n("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("new7")))]),n("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("log1")))]),n("v-uni-view",{staticClass:"item"},[t._v(t._s(t.$t("log2")))])],1),n("v-uni-view",{staticClass:"navList1"},[n("v-uni-scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"},on:{scrolltoupper:function(e){arguments[0]=e=t.$handleEvent(e),t.upper.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower.apply(void 0,arguments)}}},t._l(t.coinLog,(function(e,i){return n("v-uni-view",{key:i,staticClass:"dataList"},[n("v-uni-view",{staticClass:"item item1"},[t._v(t._s(t._f("plusXing1")(e.userAddress)))]),n("v-uni-view",{staticClass:"item"},[t._v(t._s(Math.floor(100*e.giveAmount)/100))]),n("v-uni-view",{staticClass:"item"},[t._v(t._s(t._f("timeStamp")(e.logTime)))]),n("v-uni-view",{staticClass:"item"},[0!=e.status?n("v-uni-view",[t._v(t._s(t.$t("log4")))]):n("v-uni-view",{staticClass:"setBtn"},[n("v-uni-view",{staticClass:"btn11",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.closeGive(e.userAddress)}}},[t._v(t._s(t.$t("home31")))])],1)],1)],1)})),1)],1)],1):t._e()],1),n("w-loading",{ref:"loading",attrs:{text:"",mask:"true",click:"false"}})],1)},a=[]},"5dcc":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.reqGet=function(t,e){return function(t,e){return new Promise((function(n){uni.request({url:i+t,method:"GET",data:e,header:{"Content-Type":"application/json;charset=UTF-8"},success:function(t){n(t.data)}})}))}(t,e)},e.reqPost=function(t,e){return function(t,e){return new Promise((function(n){uni.request({url:i+t,method:"POST",data:e,header:{"Content-Type":"application/json;charset=UTF-8",hash:uni.getStorageSync("hash"),id:uni.getStorageSync("id")},success:function(t){n(t.data)}})}))}(t,e)},e.upPost=function(t,e){return function(t,e){return new Promise((function(n){uni.uploadFile({url:i+t,file:e,name:"test",header:{hash:uni.getStorageSync("hash"),id:uni.getStorageSync("id")},success:function(t){console.log(t),n(t.data)}})}))}(t,e)},n("bf0f");var i="https://www.neww.site:451"},"6aef":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.getMyTeam=e.getMyInfo=e.getMyDraw=e.getMyCoinLog=e.OpenData=void 0;var i=n("5dcc");e.getMyInfo=function(t){return(0,i.reqPost)("/getMyInfo",t)};e.OpenData=function(t){return(0,i.reqPost)("/getMessage",t)};e.getMyTeam=function(t){return(0,i.reqPost)("/getMyTeam",t)};e.getMyDraw=function(t){return(0,i.reqPost)("/getCalLog",t)};e.getMyCoinLog=function(t){return(0,i.reqPost)("/getSendLog",t)}},"9aa1":function(t,e,n){"use strict";var i=n("eeb7"),a=n.n(i);a.a},a0b0:function(t,e,n){"use strict";n.r(e);var i=n("469d"),a=n("a5b9");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("9aa1");var o=n("828b"),r=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"d1c72932",null,!1,i["a"],void 0);e["default"]=r.exports},a5b9:function(t,e,n){"use strict";n.r(e);var i=n("1395"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},aaa5:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".content[data-v-d1c72932]{width:100%;background-image:url(/static/indexBg.gif);background-size:100% 100%;height:100vh;overflow:hidden;box-sizing:border-box}.content .dpoMain[data-v-d1c72932]::-webkit-scrollbar{display:none}.content .dpoMain[data-v-d1c72932]{box-sizing:border-box;margin:%?50?% %?20?% 0;background:rgba(0,0,0,.5);padding:%?30?%;height:%?1129?%;border-radius:%?15?%}.content .dpoMain .switchBtn[data-v-d1c72932]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?40?%}.content .dpoMain .switchBtn .btn[data-v-d1c72932]{box-sizing:border-box;text-align:center;width:%?243?%;padding:%?10?%;height:%?89?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center;font-family:MicrosoftYaHeiLight;font-size:%?28?%;color:#d48800}.content .dpoMain .switchBtn .activeBtn[data-v-d1c72932]{font-family:MicrosoftYaHeiLight;font-size:%?28?%;color:#fdc314}.content .dpoMain .dataList[data-v-d1c72932]{margin-top:%?20?%}.content .dpoMain .dataList .navList[data-v-d1c72932]{border:%?2?% solid;border-color:rgba(228,158,8,.5);border-radius:%?15?%;display:flex;align-items:center;justify-content:space-between;padding:%?15?%}.content .dpoMain .dataList .navList .item[data-v-d1c72932]{font-family:MicrosoftYaHeiLight;font-size:%?28?%;color:#d48800;width:30%;text-align:center}.content .dpoMain .dataList .navList .item1[data-v-d1c72932]{width:40%}.content .dpoMain .dataList .navList1 .dataList[data-v-d1c72932]{border-bottom:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:space-between;padding:%?15?%}.content .dpoMain .dataList .navList1 .dataList .item[data-v-d1c72932]{font-family:MicrosoftYaHeiLight;font-size:%?28?%;color:#fdc314;width:30%;text-align:center}.content .dpoMain .dataList .navList1 .dataList .item .setBtn[data-v-d1c72932]{width:100%;display:flex;justify-content:center}.content .dpoMain .dataList .navList1 .dataList .item .setBtn .btn11[data-v-d1c72932]{width:%?100?%;height:30px;line-height:%?30?%;background:rgba(228,158,8,.1);border-radius:5px;border:1px solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center}.content .dpoMain .dataList .navList1 .dataList .item1[data-v-d1c72932]{width:40%}.content .dpoMain .dataList .navList1 .dataList[data-v-d1c72932]:last-child{border-bottom:0}.content .dpoMain .dataList .navList1 .scroll-Y[data-v-d1c72932]{height:%?910?%}",""]),t.exports=e},eeb7:function(t,e,n){var i=n("aaa5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("44f8187a",i,!0,{sourceMap:!1,shadowMode:!1})}}]);