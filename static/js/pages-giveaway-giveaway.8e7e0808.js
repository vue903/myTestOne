(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-giveaway-giveaway"],{"0e57":function(e,t,n){"use strict";n.r(t);var i=n("8829"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},"25d4":function(e,t,n){var i=n("8647");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("dadc0a48",i,!0,{sourceMap:!1,shadowMode:!1})},"5dcc":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.reqGet=function(e,t){return function(e,t){return new Promise((function(n){uni.request({url:i+e,method:"GET",data:t,header:{"Content-Type":"application/json;charset=UTF-8"},success:function(e){n(e.data)}})}))}(e,t)},t.reqPost=function(e,t){return function(e,t){return new Promise((function(n){uni.request({url:i+e,method:"POST",data:t,header:{"Content-Type":"application/json;charset=UTF-8",hash:uni.getStorageSync("hash"),id:uni.getStorageSync("id")},success:function(e){n(e.data)}})}))}(e,t)},t.upPost=function(e,t){return function(e,t){return new Promise((function(n){uni.uploadFile({url:i+e,file:t,name:"test",header:{hash:uni.getStorageSync("hash"),id:uni.getStorageSync("id")},success:function(e){console.log(e),n(e.data)}})}))}(e,t)},n("bf0f");var i="https://www.neww.site:451"},6219:function(e,t,n){"use strict";n.r(t);var i=n("bf08"),a=n("0e57");for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("8973");var o=n("828b"),r=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"790f8bea",null,!1,i["a"],void 0);t["default"]=r.exports},"6aef":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.getMyTeam=t.getMyInfo=t.getMyDraw=t.getMyCoinLog=t.OpenData=void 0;var i=n("5dcc");t.getMyInfo=function(e){return(0,i.reqPost)("/getMyInfo",e)};t.OpenData=function(e){return(0,i.reqPost)("/getMessage",e)};t.getMyTeam=function(e){return(0,i.reqPost)("/getMyTeam",e)};t.getMyDraw=function(e){return(0,i.reqPost)("/getCalLog",e)};t.getMyCoinLog=function(e){return(0,i.reqPost)("/getSendLog",e)}},8647:function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,".content[data-v-790f8bea]{width:100%;height:100%;background-image:url(/static/indexBg.gif);background-size:100% 100%;min-height:100vh;box-sizing:border-box}.content .dpoMain[data-v-790f8bea]{margin:0 %?40?%;background-image:url(/static/bgInfo.png);background-size:100% 100%;padding:%?30?%;box-sizing:border-box;position:fixed;border-radius:%?15?%;bottom:%?109?%;left:0;right:0}.content .dpoMain .title[data-v-790f8bea]{display:flex;align-items:center}.content .dpoMain .title .img[data-v-790f8bea]{width:%?48?%;height:%?49?%;margin-right:%?19?%}.content .dpoMain .title .img uni-image[data-v-790f8bea]{width:100%;height:100%}.content .dpoMain .title .version[data-v-790f8bea]{display:flex;align-items:center}.content .dpoMain .title .version .text[data-v-790f8bea]{font-size:%?28?%;color:#d48800;margin-right:%?19?%}.content .dpoMain .title .version .samll[data-v-790f8bea]{font-size:%?28?%;color:#fdc314}.content .dpoMain .DataList[data-v-790f8bea]{margin-top:%?61?%;border:%?2?% solid;padding:%?40?% %?30?%;border-color:rgba(228,158,8,.5);border-radius:%?10?%}.content .dpoMain .DataList .item[data-v-790f8bea]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?40?%}.content .dpoMain .DataList .item .text[data-v-790f8bea]{font-family:MicrosoftYaHeiLight;font-size:%?32?%;color:#d48800}.content .dpoMain .DataList .item .num[data-v-790f8bea]{font-family:MicrosoftYaHei;font-size:%?32?%;color:#fdc314}.content .dpoMain .DataList .item[data-v-790f8bea]:last-child{margin-bottom:0}.content .dpoMain .operateBtn[data-v-790f8bea]{display:flex;align-items:center;justify-content:space-between;margin:%?50?% 0 %?70?%}.content .dpoMain .operateBtn .item[data-v-790f8bea]{width:%?184?%;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center}.content .dpoMain .operateBtn .item .img[data-v-790f8bea]{width:%?30?%;height:%?30?%;margin-right:%?15?%}.content .dpoMain .operateBtn .item .img uni-image[data-v-790f8bea]{width:100%;height:100%}.content .dpoMain .operateBtn .item .text[data-v-790f8bea]{font-family:MicrosoftYaHei;font-size:%?28?%;color:#fdc314}.insureBox[data-v-790f8bea]{width:%?600?%;box-sizing:border-box;border-radius:%?15?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);background-color:rgba(0,0,0,.8);padding:%?30?%;position:relative}.insureBox .colse[data-v-790f8bea]{position:absolute;right:%?30?%;width:%?35?%;height:%?35?%}.insureBox .colse uni-image[data-v-790f8bea]{width:100%;height:100%}.insureBox .titlePup .pupBox[data-v-790f8bea]{text-align:center}.insureBox .titlePup .pupBox .logo[data-v-790f8bea]{width:%?75?%;height:%?77?%;margin-bottom:%?20?%}.insureBox .titlePup .pupBox .logo uni-image[data-v-790f8bea]{width:100%;height:100%}.insureBox .titlePup .pupBox .name[data-v-790f8bea]{color:#fff}.insureBox .inputPup[data-v-790f8bea]{border:%?2?% solid;border-color:rgba(228,158,8,.5);padding:%?15?%;border-radius:%?10?%;margin-top:%?30?%;color:#fff}.insureBox .btnPup[data-v-790f8bea]{width:%?184?%;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center;margin:%?30?% auto 0}.insureBox .btnPup .text[data-v-790f8bea]{font-family:MicrosoftYaHei;font-size:%?36?%;color:#fdc314}.idoBtn[data-v-790f8bea]{position:fixed;border-radius:%?15?%;bottom:%?50?%;left:0;right:0;margin:0 auto;width:%?184?%;height:%?91?%;background:rgba(228,158,8,.1);border-radius:%?10?%;border:%?2?% solid;border-color:rgba(228,158,8,.5);display:flex;align-items:center;justify-content:center}.idoBtn .text[data-v-790f8bea]{font-family:MicrosoftYaHei;font-size:%?28?%;color:#fdc314}",""]),e.exports=t},8829:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d4b5"),n("c9b5"),n("bf0f"),n("ab80"),n("e966"),n("e838"),n("64aa");var a=i(n("2634")),s=i(n("2fdc")),o=i(n("832e")),r=i(n("a5bd")),u=i(n("5f8d")),c=(i(n("8984")),n("fed8")),d=i(n("e8d9")),l=(n("6aef"),{components:{wLoading:d.default,back:r.default},data:function(){return{myAddress:"",userAddress:"",userAddress1:"",userAddress2:"",Approve:!1,allowanceB:0,tabList:["home19","home20","withdrawal","list3"],tapIndex1:0,scrollTop:0,limitAll:0,limit:20,page:1,num1:"",num2:"",num3:"",alreadyNum1:"",alreadyNum2:"",gradeType:0}},onLoad:function(e){var t=this;this.userAddress=void 0==e.userAddress?"":e.userAddress;var n=this;n.Init((function(){uni.setStorageSync("address",t.myAddress);var e=new n.ethers.providers.Web3Provider(window.ethereum);n.contract=new n.ethers.Contract(n.contractAddress,u.default,e.getSigner()),n.getMyBuy()}))},methods:{openPopup:function(e){1==e?this.$refs.popup1.open():2==e?this.$refs.popup2.open():3==e&&this.$refs.popup3.open()},close:function(e){1==e?this.$refs.popup1.close():2==e?this.$refs.popup2.close():3==e?this.$refs.popup3.close():this.$refs.popup.close()},setGiveAddress:function(){var e=this;return(0,s.default)((0,a.default)().mark((function t(){var n;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.loading.open(),t.next=3,e.contract.giveAddress(e.userAddress1).catch((function(t){e.$refs.loading.close();var n=JSON.parse(JSON.stringify(t));(0,o.default)({title:e.$t("fromData13"),text:n.reason,icon:"error"})}));case 3:if(n=t.sent,!n){t.next=11;break}return t.next=7,n.wait();case 7:e.$refs.loading.close(),(0,o.default)({title:e.$t("success"),icon:"success"}),e.userAddress1="",e.close(2);case 11:case"end":return t.stop()}}),t)})))()},setGiveAdult:function(){var e=this;return(0,s.default)((0,a.default)().mark((function t(){var n;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.loading.open(),t.next=3,e.contract.giveAdult(e.userAddress2).catch((function(t){e.$refs.loading.close();var n=JSON.parse(JSON.stringify(t));(0,o.default)({title:e.$t("fromData13"),text:n.reason,icon:"error"})}));case 3:if(n=t.sent,!n){t.next=11;break}return t.next=7,n.wait();case 7:e.$refs.loading.close(),(0,o.default)({title:e.$t("success"),icon:"success"}),e.userAddress2="",e.close(3);case 11:case"end":return t.stop()}}),t)})))()},getCan:function(){var e=this;this.contract.getCanGet().then((function(t,n){console.log(t),0!=e.gradeType?(e.num1=t[0][JSON.parse(e.gradeType)-1]-e.alreadyNum1,e.num3=t[1][JSON.parse(e.gradeType)-1]-e.alreadyNum2,e.num2=(0,c.mobileFilter)(t[2][JSON.parse(e.gradeType)-1])):(e.num1=0,e.num3=0,e.num2=0)}))},getMyBuy:function(){var e=this;this.contract.getMyBuy(this.myAddress).then((function(t,n){e.gradeType=t[0],e.alreadyNum1=t[1],e.alreadyNum2=t[2],e.getCan()}))},plusXing2:function(e){if(0==e.length)return"";if(0==e.length)return"";e.length;for(var t="",n=0;n<3;n++)t+="*";return e.substring(0,4)+t+e.substring(e.length-4)},debounceClick:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.clickTap(e)}),200)},getMsg:function(e){var t="zh-CN"==this._i18n.locale?"en-US":"zh-CN";uni.setStorageSync("language",t),this._i18n.locale=t},mobileFilter2:function(e){var t=e.toString(),n=this.ethers.utils.formatUnits(t);return parseInt(n)===parseFloat(n)?parseInt(n):Number(n).toFixed(4)},formatDate:function(e){var t=1e3*e;(new Date).getTime(),e=new Date;e.setTime(t);var n=e.getFullYear(),i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate(),s=e.getHours()<10?"0"+e.getHours():e.getHours(),o=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),r=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),u=n+"-"+i+"-"+a+" "+s+":"+o+":"+r;return u},Init:function(e){var t=this;return(0,s.default)((0,a.default)().mark((function n(){var i,s;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("undefined"!==typeof window.ethereum){n.next=4;break}console.log("请安装MetaMask"),n.next=10;break;case 4:return i=new t.ethers.providers.Web3Provider(window.ethereum),n.next=7,i.send("eth_requestAccounts",[]);case 7:s=n.sent,t.myAddress=s[0],e();case 10:case"end":return n.stop()}}),n)})))()}}});t.default=l},8973:function(e,t,n){"use strict";var i=n("25d4"),a=n.n(i);a.a},bf08:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var i={uniPopup:n("9e74").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("back",{ref:"child",attrs:{text:e.myAddress,type:"6"},on:{getMsg:function(t){arguments[0]=t=e.$handleEvent(t),e.getMsg.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"dpoMain"},[n("v-uni-view",{staticClass:"DataList"},[n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"text"},[e._v(e._s(e.$t("home50")))]),n("v-uni-view",{staticClass:"num"},[e._v(e._s(e.num1))])],1),n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"text"},[e._v(e._s(e.$t("home40")))]),n("v-uni-view",{staticClass:"num"},[e._v(e._s(e.num2))])],1),n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"text"},[e._v(e._s(e.$t("home41")))]),n("v-uni-view",{staticClass:"num"},[e._v(e._s(e.num3))])],1),n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"text"},[e._v(e._s(e.$t("new3")))]),n("v-uni-view",{staticClass:"num"},[e._v(e._s(e.gradeType))])],1)],1),n("v-uni-view",{staticClass:"operateBtn"},[n("v-uni-view",{staticClass:"item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openPopup(2)}}},[n("v-uni-view",{staticClass:"text"},[e._v(e._s(e.$t("home44")))])],1),n("v-uni-view",{staticClass:"item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openPopup(3)}}},[n("v-uni-view",{staticClass:"text"},[e._v(e._s(e.$t("home45")))])],1)],1)],1),n("uni-popup",{ref:"popup2",attrs:{type:"center","mask-click":!0}},[n("v-uni-view",{staticClass:"insureBox"},[n("v-uni-view",{staticClass:"colse",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close(2)}}},[n("v-uni-image",{attrs:{src:"/static/close.png",mode:""}})],1),n("v-uni-view",{staticClass:"titlePup"},[n("v-uni-view",{staticClass:"pupBox"},[n("v-uni-image",{staticClass:"logo",attrs:{src:"/static/logo.png",mode:""}}),n("v-uni-view",{staticClass:"name"},[e._v(e._s(e.$t("home34")))])],1)],1),n("v-uni-view",{staticClass:"inputPup"},[n("v-uni-input",{attrs:{"placeholder-style":"color:#fff;",placeholder:e.$t("home35"),type:"text"},model:{value:e.userAddress1,callback:function(t){e.userAddress1=t},expression:"userAddress1"}})],1),n("v-uni-view",{staticClass:"btnPup",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setGiveAddress()}}},[n("v-uni-view",{staticClass:"text"},[e._v(e._s(e.$t("home28")))])],1)],1)],1),n("uni-popup",{ref:"popup3",attrs:{type:"center","mask-click":!0}},[n("v-uni-view",{staticClass:"insureBox"},[n("v-uni-view",{staticClass:"colse",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close(3)}}},[n("v-uni-image",{attrs:{src:"/static/close.png",mode:""}})],1),n("v-uni-view",{staticClass:"titlePup"},[n("v-uni-view",{staticClass:"pupBox"},[n("v-uni-image",{staticClass:"logo",attrs:{src:"/static/logo.png",mode:""}}),n("v-uni-view",{staticClass:"name"},[e._v(e._s(e.$t("home36")))])],1)],1),n("v-uni-view",{staticClass:"inputPup"},[n("v-uni-input",{attrs:{"placeholder-style":"color:#fff;",placeholder:e.$t("home35"),type:"text"},model:{value:e.userAddress2,callback:function(t){e.userAddress2=t},expression:"userAddress2"}})],1),n("v-uni-view",{staticClass:"btnPup",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setGiveAdult()}}},[n("v-uni-view",{staticClass:"text"},[e._v(e._s(e.$t("home28")))])],1)],1)],1),n("w-loading",{ref:"loading",attrs:{text:"",mask:"true",click:"false"}})],1)},s=[]}}]);